<% if (title) { %>
  <h1><%= title %></h1>
<% } else {
  res.redirect('/')
} %>

<%- messages() %>

<% if (errors) { %>
  <ul class="notice">
   <% errors.array().forEach(error => { %>
     <li><%= error.msg %></li>
  <% }) %>
  </ul>
<% } %>

<div class="add-classification-container">
  <form id="addClassificationForm" action="/inv/add-classification" method="post">
    <div class="form-group">
      <label for="classification_name">Classification Name:</label>
      <input type="text" 
             id="classification_name" 
             name="classification_name" 
             required 
             pattern="^[A-Za-z0-9]+$" 
             title="No spaces or special characters allowed"
             value="<%= locals.classification_name || '' %>">
      <small>Classification name cannot contain spaces or special characters</small>
    </div>
    
    <div class="form-group">
      <button type="submit">Add Classification</button>
    </div>
  </form>
  
  <div class="back-link">
    <a href="/inv/">‚Üê Back to Management</a>
  </div>
</div>

<script>
document.getElementById('addClassificationForm').addEventListener('submit', function(e) {
  const classificationName = document.getElementById('classification_name').value;
  const pattern = /^[A-Za-z0-9]+$/;
  
  if (!pattern.test(classificationName)) {
    e.preventDefault();
    alert('Classification name cannot contain spaces or special characters.');
  }
});
</script>